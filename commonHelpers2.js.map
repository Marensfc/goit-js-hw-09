{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["'use strict';\n\nconst form = document.querySelector('.feedback-form');\nconst STORAGE_KEY = 'feedback-form-state';\nconst savedData = JSON.parse(localStorage.getItem(STORAGE_KEY));\n\nif((savedData !== null) && (savedData.userEmail !== undefined, savedData.userMessage !== undefined)) {\n  form.elements.email.value = savedData.userEmail;\n  form.elements.message.value = savedData.userMessage;\n}\n\nform.addEventListener('input', saveValueToLS);\n\nfunction saveValueToLS(evt) {\n  const userEmail = (form.elements.email.value).trim();\n  const userMessage = (form.elements.message.value).trim();\n\n  const userData = {\n    userEmail,\n    userMessage,\n  };\n\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(userData));\n}\n\nform.addEventListener('submit', removeValueFromLS);\n\nfunction removeValueFromLS(evt) {\n  evt.preventDefault();\n\n  const userEmail = (form.elements.email.value).trim();\n  const userMessage = (form.elements.message.value).trim();\n\n  if(userEmail.length === 0 || userMessage.length === 0) return;\n\n  const parsedValue = JSON.parse(localStorage.getItem(STORAGE_KEY));\n  console.log(parsedValue);\n\n  localStorage.removeItem(STORAGE_KEY);\n\n  form.reset();\n}\n\n\n\n"],"names":["form","STORAGE_KEY","savedData","saveValueToLS","evt","userEmail","userMessage","userData","removeValueFromLS","parsedValue"],"mappings":"oDAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAc,sBACdC,EAAY,KAAK,MAAM,aAAa,QAAQD,CAAW,CAAC,EAE1DC,IAAc,OAAUA,EAAU,UAAyBA,EAAU,cAAgB,UACvFF,EAAK,SAAS,MAAM,MAAQE,EAAU,UACtCF,EAAK,SAAS,QAAQ,MAAQE,EAAU,aAG1CF,EAAK,iBAAiB,QAASG,CAAa,EAE5C,SAASA,EAAcC,EAAK,CAC1B,MAAMC,EAAaL,EAAK,SAAS,MAAM,MAAO,OACxCM,EAAeN,EAAK,SAAS,QAAQ,MAAO,OAE5CO,EAAW,CACf,UAAAF,EACA,YAAAC,CACJ,EAEE,aAAa,QAAQL,EAAa,KAAK,UAAUM,CAAQ,CAAC,CAC5D,CAEAP,EAAK,iBAAiB,SAAUQ,CAAiB,EAEjD,SAASA,EAAkBJ,EAAK,CAC9BA,EAAI,eAAc,EAElB,MAAMC,EAAaL,EAAK,SAAS,MAAM,MAAO,OACxCM,EAAeN,EAAK,SAAS,QAAQ,MAAO,OAElD,GAAGK,EAAU,SAAW,GAAKC,EAAY,SAAW,EAAG,OAEvD,MAAMG,EAAc,KAAK,MAAM,aAAa,QAAQR,CAAW,CAAC,EAChE,QAAQ,IAAIQ,CAAW,EAEvB,aAAa,WAAWR,CAAW,EAEnCD,EAAK,MAAK,CACZ"}